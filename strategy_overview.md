# Smart Money 종합 점수 구성 & 개선 포인트 (요약)

## 1) 점수 구성(가중치)
- **수급 및 거래량 (25%)**: `supply_demand_score`로 거래량 기반 매집 여부 판단  
- **기관 보유량 (20%)**: **13F 공시 데이터**로 기관 포지션 변화 반영  
- **기술적 지표 (20%)**: **RSI, MACD, 이동평균선(20/50/200일)**로 추세·과매수/과매도 분석  
- **기본적 분석 (15%)**: **P/E, P/B, 매출 성장률, ROE** 등으로 내재 가치·수익성 평가  
- **애널리스트 등급 (10%)**: 추천/목표가 대비 **Upside** 반영  
- **상대 강도 (10%)**: **S&P 500(SPY)** 대비 수익률로 시장 주도주 여부 판단  

---

## 2) 비판적 분석 & 개선점(Critique & Cons)

### A. 데이터 후행성(Lagging Data)
- **13F 한계**: 분기 종료 후 **최대 45일 지연 공시** → ‘기관 매집’ 신호가 **이미 3~4개월 지난 상황**일 수 있음
- **개선 방향**: 실시간성이 높은  
  - `options_flow.py`(옵션 플로우)  
  - `insider_tracker.py`(인사이더 매매)  
  를 **종합 점수에 더 높은 비중으로 직접 반영**

### B. 선형 스코어링의 단순함
- 예: **RSI < 30이면 무조건 +점수**  
  → 강한 하락장에서는 RSI 30 미만이 **장기간 유지되며 추가 하락** 가능
- **개선 방향**: 시장 변동성(**VIX 등**)을 고려한 **조건부/상황별 스코어링** 도입

### C. 섹터 편향(Sector Bias)
- **P/E < 15 가산점**은 성장주(Tech)에 불리, 가치주에 유리할 수 있음
- **개선 방향**: **섹터 내 상대적 순위(퍼센타일)** 기반 점수화(섹터별 밸류에이션 평균 차이 보정)

### D. 리스크 관리 지표 부재
- `portfolio_risk.py`는 있어도, 스크리너 점수에는  
  - **Beta(변동성)**  
  - **MDD(최대 낙폭)**  
  감점 로직이 없음 → 고점수라도 **변동성 과대** 종목은 S급 분류 위험
- **개선 방향**: Beta/MDD/변동성 기반 **감점 항목**을 점수에 포함

### E. 기술적 구현 한계(FMP 레이트리밋/커버리지)
- FMP 대량 호출 시  
  - 레이트리밋(429)  
  - 일부 심볼 커버리지 제한  
  이슈 가능
- **개선 방향**: 캐싱/백오프/심볼 매핑 관리로 안정성 강화

---

## 3) 액션 아이템(간단 제안)
1. 13F 비중 일부를 **옵션 플로우/인사이더**로 이동(실시간성 강화)  
2. RSI/MACD는 **VIX(또는 시장 레짐) 조건부 점수화**로 개선  
3. 밸류 지표는 **섹터 퍼센타일**로 정규화  
4. **Beta/MDD 감점**을 종합 점수에 포함  
5. 데이터 수집은 **캐싱 + 레이트리밋 대응**으로 FMP 리스크 완화  
